# ğŸ° Territory Plugin - ì™„ë²½ ê°€ì´ë“œ

[![Version](https://img.shields.io/badge/version-1.0--SNAPSHOT-blue.svg)](https://github.com)
[![Minecraft](https://img.shields.io/badge/minecraft-1.20.4+-green.svg)](https://www.minecraft.net)
[![API](https://img.shields.io/badge/Paper-API-orange.svg)](https://papermc.io)
[![Updated](https://img.shields.io/badge/updated-2025--12--11-brightgreen.svg)](https://github.com)

**Territory Plugin**ì€ Minecraft Paper ì„œë²„ë¥¼ ìœ„í•œ ê°•ë ¥í•œ ì˜í†  ì ë ¹ ë° ì „ìŸ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

> **ğŸ†• ìµœì‹  ì—…ë°ì´íŠ¸ (2025-12-11)**
> - âœ… ì ë ¹ì„ ì„¤ì¹˜ ë¬¸ì œ í•´ê²° (60+ ë¸”ë¡ íƒ€ì… ì§€ì›)
> - âœ… ì½˜ì†” ëª…ë ¹ì–´ ì§€ì› (reload, startwar, endwar)
> - âœ… íŒ€ ì¸ì‹ ê°œì„  ("íŒ€ì—†ìŒ" ìë™ ì²˜ë¦¬)
> - âœ… PlaceholderAPI ì„±ëŠ¥ ìµœì í™”

---

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#-ê°œìš”)
2. [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
3. [ì„¤ì¹˜ ë°©ë²•](#-ì„¤ì¹˜-ë°©ë²•)
4. [ê¸°ë³¸ ì‚¬ìš©ë²•](#-ê¸°ë³¸-ì‚¬ìš©ë²•)
5. [ì„¤ì • íŒŒì¼](#-ì„¤ì •-íŒŒì¼)
6. [ëª…ë ¹ì–´](#-ëª…ë ¹ì–´)
7. [ê¶Œí•œ](#-ê¶Œí•œ)
8. [BlueMap ì—°ë™](#-bluemap-ì—°ë™)
9. [ë‹¤êµ­ì–´ ì§€ì›](#-ë‹¤êµ­ì–´-ì§€ì›)
10. [ê°œë°œì ì •ë³´](#-ê°œë°œì-ì •ë³´)

---

## ğŸ¯ ê°œìš”

Territory Pluginì€ ë‹¤ìŒì„ ì œê³µí•©ë‹ˆë‹¤:
- ğŸ´ **ì ë ¹ì„ ì‹œìŠ¤í…œ**: ì²­í¬ ê¸°ë°˜ ì˜í†  ì ë ¹
- âš”ï¸ **ì „ìŸ ì‹œìŠ¤í…œ**: êµ­ê°€ ê°„ ì „ë©´ì „
- ğŸ—ºï¸ **BlueMap ì—°ë™**: ì›¹ ë§µì—ì„œ ì‹¤ì‹œê°„ ì˜í†  í™•ì¸
- ğŸ¨ **ì™„ì „í•œ ì»¤ìŠ¤í„°ë§ˆì´ì§•**: ëª¨ë“  ë©”ì‹œì§€ì™€ ìƒ‰ìƒ ë³€ê²½ ê°€ëŠ¥
- ğŸ’° **ê²½ì œ ì‹œìŠ¤í…œ**: Vault ì—°ë™ ì—…ê·¸ë ˆì´ë“œ ë¹„ìš©
- ğŸ“Š **í†µê³„ ì‹œìŠ¤í…œ**: êµ­ê°€ë³„ ë­í‚¹ê³¼ ì „ìŸ ì´ë ¥

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. ì ë ¹ì„ ì‹œìŠ¤í…œ

#### ì ë ¹ì„ êµ¬ì¡°
- **í¬ê¸°**: 2x2x2 (8ê°œ ë¸”ë¡)
- **ì¬ì§ˆ**: í‘ìš”ì„ (configì—ì„œ ë³€ê²½ ê°€ëŠ¥)
- **ìœ„ì¹˜**: ì²­í¬ ì¤‘ì•™ (x: 7-8, z: 7-8)
- **ë†’ì´**: configì—ì„œ ì„¤ì • ê°€ëŠ¥

#### ì„¤ì¹˜ ê°€ëŠ¥í•œ ë¸”ë¡ (60+ ì¢…ë¥˜)
```
âœ… ìì—° ì§€í˜•: í™, í’€ë¸”ë¡, ëŒ, ìê°ˆ, ëª¨ë˜, ì í† 
âœ… ì‹ë¬¼: ì”ë””, í° ì”ë””, ì–‘ì¹˜ë¥˜, ëª¨ë“  ê½ƒ, ë²„ì„¯
âœ… ì•¡ì²´: ë¬¼, ìš©ì•”
âœ… ê´‘ë¬¼: í™”ê°•ì•”, ì„¬ë¡ì•”, ì•ˆì‚°ì•”, ë”¥ìŠ¬ë ˆì´íŠ¸, ì‘íšŒì•”
âœ… ë„¤ë”: ë„¤ë”ë™, ì˜í˜¼ ëª¨ë˜, ì§„í™ìƒ‰/ë’¤í‹€ë¦° ë‚˜ì¼ë¥¨
âœ… ì—”ë“œ: ì—”ë“œ ëŒ
âœ… ê¸°íƒ€: ê³µê¸°, ëˆˆ, ë©êµ´, ë¹› ì´ë¼

âŒ ì„¤ì¹˜ ë¶ˆê°€: ê±´ë¬¼ ë¸”ë¡, ë‚˜ë¬´, ê´‘ì„, ê¸°ê³„, ì²´ìŠ¤íŠ¸ ë“±
```

#### í‹°ì–´ ì‹œìŠ¤í…œ
| í‹°ì–´ | ë°˜ê²½ | ì˜ì—­ í¬ê¸° | ì—…ê·¸ë ˆì´ë“œ ë°©ë²• |
|------|------|-----------|----------------|
| Tier I | 1 ì²­í¬ | 3x3 | ì•„ì´í…œìœ¼ë¡œ ì„¤ì¹˜ |
| Tier II | 4 ì²­í¬ | 9x9 | ì—…ê·¸ë ˆì´ë“œ |
| Tier III | 7 ì²­í¬ | 15x15 | ì—…ê·¸ë ˆì´ë“œ |
| Tier IV | 10 ì²­í¬ | 21x21 | ì—…ê·¸ë ˆì´ë“œ |
| Tier V | 17 ì²­í¬ | 35x35 | ì—…ê·¸ë ˆì´ë“œ |

#### ì—…ê·¸ë ˆì´ë“œ ì¡°ê±´
- âœ… ì ë ¹ ì‹œê°„ ì¶©ì¡±
- âœ… ì—…ê·¸ë ˆì´ë“œ ë¹„ìš© (Vault)
- âœ… ì†Œìœ ê¶Œ í™•ì¸

#### ì—…ê·¸ë ˆì´ë“œ ë°©ë²•
1. **ë°©ë²• 1**: ì ë ¹ì„ ìš°í´ë¦­ â†’ GUI ì˜¤í”ˆ
2. **ë°©ë²• 2**: `/territory upgrade` ëª…ë ¹ì–´ (ë°©ì–´ ë¸”ë¡ì´ ìˆì–´ë„ ê°€ëŠ¥!)

### 2. ì „ìŸ ì‹œìŠ¤í…œ

#### ì „ìŸ ì„ í¬
1. ì „ìŸ ì„ í¬ ë‘ë£¨ë§ˆë¦¬ íšë“ (`/territory scroll`)
2. ë‘ë£¨ë§ˆë¦¬ ìš°í´ë¦­
3. í™•ì¸ í´ë¦­ `[YES]`
4. **10ë¶„ ì¹´ìš´íŠ¸ë‹¤ìš´** ì‹œì‘
5. ì „ë©´ì „ ë°œìƒ

#### ì „ìŸ ê·œì¹™
- **í‰í™” ì‹œ**: ë³¸ì¸ íŒ€ ë•…ë§Œ ìƒí˜¸ì‘ìš© ê°€ëŠ¥
- **ì „ìŸ ì‹œ**: ëª¨ë“  ë•…ì—ì„œ ìƒí˜¸ì‘ìš© ê°€ëŠ¥
- **ì ë ¹ì„ íŒŒê´´**: ì  ì ë ¹ì„ íŒŒê´´ ì‹œ ëª¨ë“  ì˜í†  íšë“

#### ì „ìŸ íŠ¹ì§•
- ğŸŒ **ì „ë©´ì „**: ì„ í¬í•œ êµ­ê°€ vs ì „ ì„¸ê³„
- â° **10ë¶„ ì¤€ë¹„ ì‹œê°„**: ë°©ì–´ ì¤€ë¹„ ê°€ëŠ¥
- ğŸ“¢ **ì‹¤ì‹œê°„ ì•Œë¦¼**: ì ë ¹ì„ íŒŒê´´ ì‹œ êµ­ê°€ ë©¤ë²„ ì „ì²´ ì•Œë¦¼
- ğŸ“ **ì „ìŸ ì´ë ¥**: ëª¨ë“  ì „ìŸ ê¸°ë¡ ì €ì¥

### 3. ì˜í†  ë³´í˜¸

#### ë³´í˜¸ ì‹œìŠ¤í…œ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í‰í™” ì‹œ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… ë³¸ì¸ íŒ€ ë•…: ëª¨ë“  ì‘ì—… ê°€ëŠ¥    â”‚
â”‚ âŒ ë‹¤ë¥¸ íŒ€ ë•…: ì°¨ë‹¨              â”‚
â”‚ âŒ ì£¼ì¸ ì—†ëŠ” ë•…: ì°¨ë‹¨            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì „ìŸ ì‹œ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… ëª¨ë“  ë•…: ì „íˆ¬/íŒŒê´´ ê°€ëŠ¥       â”‚
â”‚ âš”ï¸ PvP í™œì„±í™”                   â”‚
â”‚ ğŸ’¥ ì ë ¹ì„ íŒŒê´´ ê°€ëŠ¥              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. BlueMap ì—°ë™

#### ê¸°ëŠ¥
- ğŸ—ºï¸ **ì‹¤ì‹œê°„ ì˜í†  í‘œì‹œ**: ëª¨ë“  ì˜í† ê°€ ì›¹ ë§µì— í‘œì‹œ
- ğŸ¨ **íŒ€ë³„ ìƒ‰ìƒ**: `team.yml`ì—ì„œ ì„¤ì •í•œ ìƒ‰ìƒ ì ìš©
- ğŸ“¦ **3D ë§ˆì»¤**: ë†’ì´ 100ë¸”ë¡ì˜ ì…ì²´ ë§ˆì»¤
- ğŸ”„ **ìë™ ì—…ë°ì´íŠ¸**: ì ë ¹/íŒŒê´´ ì‹œ ì¦‰ì‹œ ë°˜ì˜
- ğŸ‘ï¸ **íˆ¬ëª…ë„**: 30% íˆ¬ëª…ìœ¼ë¡œ ì§€í˜• í™•ì¸ ê°€ëŠ¥

#### ì ‘ì† ë°©ë²•
```
http://ì„œë²„IP:8100
â†’ "Territory Claims" ë§ˆì»¤ í™œì„±í™”
â†’ íŒ€ë³„ ì˜í†  í™•ì¸
```

### 5. í†µê³„ ì‹œìŠ¤í…œ

#### êµ­ê°€ í†µê³„
- ğŸ“Š ì´ ì˜í†  (ì²­í¬ ìˆ˜)
- ğŸ° ì ë ¹ì„ ê°œìˆ˜
- â­ ìµœê³  í‹°ì–´
- ğŸ‘¥ ì˜¨ë¼ì¸ ë©¤ë²„ ìˆ˜
- âš”ï¸ ì „ìŸ ìƒíƒœ
- ğŸ† ì˜í†  ì ìˆ˜ ë° ìˆœìœ„

#### ë­í‚¹ ì‹œìŠ¤í…œ
```
Â§6=== êµ­ê°€ ë­í‚¹ (ì˜í†  ì ìˆ˜) ===
Â§6ğŸ¥‡ Â§fëŒ€í•œë¯¼êµ­ Â§7- Â§e2150 Â§7(ì²­í¬: 200, ì ë ¹ì„: 8)
Â§7ğŸ¥ˆ Â§fì¼ë³¸ Â§7- Â§e1850 Â§7(ì²­í¬: 156, ì ë ¹ì„: 5)
Â§cğŸ¥‰ Â§fì¤‘êµ­ Â§7- Â§e1200 Â§7(ì²­í¬: 98, ì ë ¹ì„: 3)
```

---

## ğŸš€ ì„¤ì¹˜ ë°©ë²•

### 1. í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

| í•­ëª© | ë²„ì „ | í•„ìˆ˜ ì—¬ë¶€ |
|------|------|-----------|
| Minecraft | 1.20.4+ | âœ… í•„ìˆ˜ |
| Paper | Latest | âœ… í•„ìˆ˜ |
| LuckPerms | 5.0+ | âœ… í•„ìˆ˜ |
| Vault | 1.7+ | âš ï¸ ê¶Œì¥ |
| BlueMap | 2.7.4+ | âš ï¸ ì„ íƒ |
| PlaceholderAPI | Latest | âš ï¸ ì„ íƒ |

### 2. ì„¤ì¹˜ ë‹¨ê³„

```bash
# 1. í”ŒëŸ¬ê·¸ì¸ ë‹¤ìš´ë¡œë“œ
# 2. plugins í´ë”ì— ë³µì‚¬
cp territory_Plugin.jar server/plugins/

# 3. ì„œë²„ ì‹œì‘
java -jar paper.jar

# 4. ì„¤ì • íŒŒì¼ í™•ì¸
plugins/territory_Plugin/
â”œâ”€â”€ config.yml
â”œâ”€â”€ team.yml
â”œâ”€â”€ lang.yml
â””â”€â”€ items.yml
```

### 3. ì´ˆê¸° ì„¤ì •

#### config.yml
```yaml
# ì „ìŸ ê°€ëŠ¥ ì›”ë“œ ì„¤ì •
war-worlds:
  - world
  - world_nether

# ì ë ¹ì„ ì„¤ì •
occupation-stone:
  spawn-y-coordinate: 70  # ìƒì„± ë†’ì´
  block-material: OBSIDIAN  # ë¸”ë¡ ì¢…ë¥˜
```

#### team.yml
```yaml
teams:
  korea:
    id: korea
    display-name: "ëŒ€í•œë¯¼êµ­"
    luckperms-group: korea  # âš ï¸ LuckPerms ê·¸ë£¹ê³¼ ë°˜ë“œì‹œ ì¼ì¹˜!
    color: "#FF0000"  # ë¹¨ê°•
    description: "Korean Empire"
```

> **âš ï¸ ì¤‘ìš”**: 
> - `luckperms-group`ì€ LuckPermsì˜ ì‹¤ì œ ê·¸ë£¹ëª…ê³¼ **ì •í™•íˆ ì¼ì¹˜**í•´ì•¼ í•©ë‹ˆë‹¤
> - team.ymlì— ë“±ë¡ë˜ì§€ ì•Šì€ ê·¸ë£¹ì„ ê°€ì§„ í”Œë ˆì´ì–´ëŠ” ìë™ìœ¼ë¡œ "íŒ€ì—†ìŒ"ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤
> - í”Œë ˆì´ì–´ëŠ” `/lp user <í”Œë ˆì´ì–´> parent add <ê·¸ë£¹>`ìœ¼ë¡œ êµ­ê°€ì— í• ë‹¹

#### LuckPerms ê·¸ë£¹ ìƒì„±
```bash
# 1. êµ­ê°€ ê·¸ë£¹ ìƒì„±
/lp creategroup korea
/lp creategroup japan
/lp creategroup china

# 2. í”Œë ˆì´ì–´ í• ë‹¹
/lp user Player123 parent add korea
/lp user Player456 parent add japan

# 3. í™•ì¸
/lp user Player123 info
```

---

## ğŸ’» ê¸°ë³¸ ì‚¬ìš©ë²•

### í”Œë ˆì´ì–´ ì‹œì‘ ê°€ì´ë“œ

#### 1. ì ë ¹ì„ ì„¤ì¹˜
```
1. /territory stone (ê´€ë¦¬ìì—ê²Œ ìš”ì²­)
2. ì›í•˜ëŠ” ìœ„ì¹˜ì— ì•„ì´í…œ ì„¤ì¹˜
3. ì²­í¬ ì¤‘ì•™ì— 2x2x2 í‘ìš”ì„ ìƒì„±
4. ì£¼ë³€ 3x3 ì²­í¬ ìë™ ì ë ¹
```

#### 2. ì˜í†  í™•ì¥
```
1. ì ë ¹ì„ ìš°í´ë¦­ ë˜ëŠ” /territory upgrade
2. GUIì—ì„œ ìš”êµ¬ì‚¬í•­ í™•ì¸
   - ì ë ¹ ì‹œê°„: 1ì‹œê°„+
   - ë¹„ìš©: $10,000+
3. ë‹¤ì´ì•„ëª¬ë“œ í´ë¦­
4. ì˜í†  í™•ì¥ ì™„ë£Œ!
```

#### 3. ì „ìŸ ì„ í¬
```
1. /territory scroll (ê´€ë¦¬ìì—ê²Œ ìš”ì²­)
2. ë‘ë£¨ë§ˆë¦¬ ìš°í´ë¦­
3. [YES] í´ë¦­
4. 10ë¶„ í›„ ì „ë©´ì „!
```

#### 4. ì˜í†  ë°©ì–´
```
1. ì ë ¹ì„ ì£¼ë³€ì— ë°©ì–´ ì‹œì„¤ ê±´ì„¤
2. /territory stonesë¡œ ëª¨ë“  ì ë ¹ì„ ìœ„ì¹˜ í™•ì¸
3. ì „ìŸ ì¤‘ ì‹¤ì‹œê°„ ì•Œë¦¼ ìˆ˜ì‹ 
4. ë¹ ë¥¸ ë°©ì–´ ëŒ€ì‘
```

---

## âš™ï¸ ì„¤ì • íŒŒì¼

### config.yml

```yaml
# ì „ìŸ ê°€ëŠ¥ ì›”ë“œ
war-worlds:
  - world
  - world_nether
  - world_the_end

# ì ë ¹ì„ ì„¤ì •
occupation-stone:
  spawn-y-coordinate: 70
  block-material: OBSIDIAN
  upgrade-cost-enabled: true
  
  # í‹°ì–´ë³„ ì—…ê·¸ë ˆì´ë“œ ìš”êµ¬ì‚¬í•­
  upgrade-requirements:
    tier-1-to-2:
      money: 10000
      occupation-time: 3600  # 1ì‹œê°„
    tier-2-to-3:
      money: 25000
      occupation-time: 7200  # 2ì‹œê°„
    tier-3-to-4:
      money: 50000
      occupation-time: 14400  # 4ì‹œê°„
    tier-4-to-5:
      money: 100000
      occupation-time: 28800  # 8ì‹œê°„

# ì „ìŸ ì„¤ì •
war:
  preparation-time: 600  # 10ë¶„
  minimum-duration: 1800  # 30ë¶„
  auto-end-time: 0  # 0 = ë¬´ì œí•œ
  
  # ì „ìŸ ì„ í¬ ì‹œ ì‹¤í–‰ë  ì½˜ì†” ëª…ë ¹ì–´
  declaration-commands:
    - "say {team}ì´(ê°€) ì „ë©´ì „ì„ ì„ í¬í–ˆìŠµë‹ˆë‹¤!"
    - "title @a title {\"text\":\"ì „ìŸ ê²½ê³ !\",\"color\":\"red\"}"
```

### team.yml

```yaml
teams:
  korea:
    id: korea
    display-name: "ëŒ€í•œë¯¼êµ­"
    luckperms-group: korea
    color: "#FF0000"
    description: "Korean Empire"
  
  japan:
    id: japan
    display-name: "ì¼ë³¸"
    luckperms-group: japan
    color: "#00FF00"
    description: "Japanese Nation"
```

### lang.yml (ë‹¤êµ­ì–´)

```yaml
# ì•„ì´í…œ ì´ë¦„
items:
  occupation_stone:
    name: "&6Occupation Stone (Tier I)"
    lore:
      - "&7ì˜í† ë¥¼ ì ë ¹í•˜ëŠ” ì ë ¹ì„ì…ë‹ˆë‹¤"
      - "&7ì„¤ì¹˜í•˜ë©´ ì£¼ë³€ 3x3 ì²­í¬ë¥¼ ì ë ¹í•©ë‹ˆë‹¤"

# ë©”ì‹œì§€
stone:
  placed: "&aì ë ¹ì„ì„ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤!"
  upgraded: "&aì ë ¹ì„ì´ {tier}ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ì—ˆìŠµë‹ˆë‹¤!"
  destroyed_conquest: "&aì ë ¹ì„ì„ íŒŒê´´í•˜ê³  ì˜í† ë¥¼ ì ë ¹í–ˆìŠµë‹ˆë‹¤!"
```

### items.yml (ì»¤ìŠ¤í…€ ëª¨ë¸)

```yaml
# ì»¤ìŠ¤í…€ ëª¨ë¸ ë°ì´í„° (ë¦¬ì†ŒìŠ¤íŒ© ì—°ë™)
Occupation_Stone_Tier_I: 1
War_Declaration_Scroll: 2
```

---

## ğŸ“œ ëª…ë ¹ì–´

### ğŸ”´ ê´€ë¦¬ì ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… | ê¶Œí•œ | ì½˜ì†” ì‚¬ìš© |
|--------|------|------|----------|
| `/territory stone` | Tier I ì ë ¹ì„ ì§€ê¸‰ | `territory.admin` | âŒ |
| `/territory scroll` | ì „ìŸ ë‘ë£¨ë§ˆë¦¬ ì§€ê¸‰ | `territory.admin` | âŒ |
| `/territory reload` | ì„¤ì • ë¦¬ë¡œë“œ | `territory.admin` | âœ… |
| `/territory startwar <êµ­ê°€>` | ì „ìŸ ì¦‰ì‹œ ì‹œì‘ | `territory.admin` | âœ… |
| `/territory endwar <êµ­ê°€>` | ì „ìŸ ê°•ì œ ì¢…ë£Œ | `territory.admin` | âœ… |

> **ğŸ’¡ ì½˜ì†” ì§€ì›**: `reload`, `startwar`, `endwar` ëª…ë ¹ì–´ëŠ” ì½˜ì†”ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤!

### ğŸŸ¢ í”Œë ˆì´ì–´ ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… | ê¶Œí•œ |
|--------|------|------|
| `/territory info` | ì˜í†  ì •ë³´ í™•ì¸ | ì—†ìŒ |
| `/territory upgrade` | ì—…ê·¸ë ˆì´ë“œ GUI | `territory.upgrade` |
| `/territory team` | íŒ€ ëª©ë¡ | ì—†ìŒ |
| `/territory stats [íŒ€]` | êµ­ê°€ í†µê³„ | ì—†ìŒ |
| `/territory ranking` | êµ­ê°€ ë­í‚¹ | ì—†ìŒ |
| `/territory find` | ê°€ì¥ ê°€ê¹Œìš´ ì  ì ë ¹ì„ | ì—†ìŒ |
| `/territory stones [íŒ€]` | ì ë ¹ì„ ëª©ë¡ | ì—†ìŒ |
| `/territory history [íŒ€]` | ì „ìŸ ì´ë ¥ | ì—†ìŒ |
| `/territory score <ì°¨ìˆ˜>` | ì „ìŸ ì ìˆ˜ í™•ì¸ | ì—†ìŒ |
| `/territory scorenow` | í˜„ì¬ ì „ìŸ ì ìˆ˜ | ì—†ìŒ |
| `/territory cancel` | ì§€ì—­ ì´ë¦„ ì…ë ¥ ì·¨ì†Œ | ì—†ìŒ |

### ë³„ì¹­
- `/territory` = `/terr` = `/t`

### ì½˜ì†” ëª…ë ¹ì–´ ì˜ˆì‹œ
```bash
# ì„œë²„ ì½˜ì†”ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥
territory reload
territory startwar korea
territory endwar japan
```

---

## ğŸ” ê¶Œí•œ

### ê¸°ë³¸ ê¶Œí•œ

```yaml
permissions:
  territory.admin:
    description: ê´€ë¦¬ì ê¶Œí•œ
    default: op
  
  territory.upgrade:
    description: ì ë ¹ì„ ì—…ê·¸ë ˆì´ë“œ
    default: true
  
  territory.war.declare:
    description: ì „ìŸ ì„ í¬
    default: true
```

### LuckPerms ì„¤ì • ì˜ˆì‹œ

```bash
# ê´€ë¦¬ì ê¶Œí•œ
lp group admin permission set territory.admin true

# íŠ¹ì • ê·¸ë£¹ë§Œ ì „ìŸ ì„ í¬
lp group leader permission set territory.war.declare true
lp group member permission set territory.war.declare false

# ì—…ê·¸ë ˆì´ë“œ ê¶Œí•œ ì œí•œ
lp group vip permission set territory.upgrade true
lp group default permission set territory.upgrade false
```

---

## ğŸ—ºï¸ BlueMap ì—°ë™

### ì„¤ì • ë°©ë²•

#### 1. BlueMap ì„¤ì¹˜
```bash
# BlueMap ë‹¤ìš´ë¡œë“œ
https://github.com/BlueMap-Minecraft/BlueMap/releases

# plugins í´ë”ì— ì¶”ê°€
cp BlueMap.jar server/plugins/

# ì„œë²„ ì¬ì‹œì‘
```

#### 2. Territory Plugin ì„¤ì¹˜
```bash
# ìë™ìœ¼ë¡œ BlueMap ê°ì§€ ë° ì—°ë™
[Territory] BlueMap API connected! Territory markers enabled.
```

#### 3. ì›¹ ë§µ ì ‘ì†
```
http://ì„œë²„IP:8100
â†’ ì˜¤ë¥¸ìª½ ìƒë‹¨ ë©”ë‰´
â†’ "Markers" ë˜ëŠ” "ë§ˆì»¤"
â†’ "Territory Claims" ì²´í¬
```

### íŒ€ ìƒ‰ìƒ ì„¤ì •

```yaml
# team.yml
teams:
  korea:
    color: "#FF0000"  # ë¹¨ê°• (BlueMapì— ìë™ ì ìš©)
  
  japan:
    color: "#00FF00"  # ì´ˆë¡
  
  china:
    color: "#0000FF"  # íŒŒë‘
```

### ìƒ‰ìƒ ì˜ˆì‹œ

```yaml
# ë¹¨ê°• ê³„ì—´
"#FF0000" - ìˆœìˆ˜ ë¹¨ê°•
"#FF6B6B" - ë°ì€ ë¹¨ê°•
"#C0392B" - ì§„í•œ ë¹¨ê°•

# íŒŒë‘ ê³„ì—´
"#0000FF" - ìˆœìˆ˜ íŒŒë‘
"#3498DB" - í•˜ëŠ˜ìƒ‰
"#2C3E50" - ì§„í•œ íŒŒë‘

# ì´ˆë¡ ê³„ì—´
"#00FF00" - ìˆœìˆ˜ ì´ˆë¡
"#2ECC71" - ë¯¼íŠ¸ìƒ‰
"#27AE60" - ì§„í•œ ì´ˆë¡

# ê¸°íƒ€
"#F1C40F" - ê¸ˆìƒ‰
"#9B59B6" - ë³´ë¼
"#E91E63" - í•«í•‘í¬
```

### ì‘ë™ ë°©ì‹

```
1. ì ë ¹ì„ ì„¤ì¹˜/ì—…ê·¸ë ˆì´ë“œ/íŒŒê´´
   â†“
2. updateMarkers() ìë™ í˜¸ì¶œ
   â†“
3. ëª¨ë“  ì²­í¬ ë°ì´í„° ì¡°íšŒ
   â†“
4. íŒ€ë³„ë¡œ ê·¸ë£¹í™”
   â†“
5. team.yml ìƒ‰ìƒ ì ìš©
   â†“
6. BlueMapì— 3D ë§ˆì»¤ ìƒì„±
   â†“
7. ì›¹ ë§µì— ì‹¤ì‹œê°„ ë°˜ì˜
```

---

## ğŸŒ ë‹¤êµ­ì–´ ì§€ì›

### ë©”ì‹œì§€ ë³€ê²½

```yaml
# lang.yml í¸ì§‘
stone:
  placed: "&aOccupation stone placed successfully!"
  upgraded: "&aStone upgraded to {tier}!"

# ë¦¬ë¡œë“œ
/territory reload
```

### í”Œë ˆì´ìŠ¤í™€ë”

| í”Œë ˆì´ìŠ¤í™€ë” | ì„¤ëª… | ì˜ˆì‹œ |
|-------------|------|------|
| `{nation}` | êµ­ê°€ëª… | korea |
| `{tier}` | í‹°ì–´ | TIER_3 |
| `{radius}` | ë°˜ê²½ | 7 |
| `{money}` | ëˆ | 10000 |
| `{hours}` | ì‹œê°„ | 2 |
| `{minutes}` | ë¶„ | 30 |

### ìƒ‰ìƒ ì½”ë“œ

```yaml
&0 - ê²€ì •     &8 - ì§„í•œ íšŒìƒ‰
&1 - ì§„í•œ íŒŒë‘ &9 - íŒŒë‘
&2 - ì§„í•œ ì´ˆë¡ &a - ì´ˆë¡
&3 - ì§„í•œ ì²­ë¡ &b - ì²­ë¡
&4 - ì§„í•œ ë¹¨ê°• &c - ë¹¨ê°•
&5 - ì§„í•œ ë³´ë¼ &d - ë¶„í™
&6 - ê¸ˆìƒ‰     &e - ë…¸ë‘
&7 - íšŒìƒ‰     &f - í°ìƒ‰

&l - êµµê²Œ     &o - ê¸°ìš¸ì„
&m - ì·¨ì†Œì„    &n - ë°‘ì¤„
```

---

## ğŸ¨ ì»¤ìŠ¤í…€ ëª¨ë¸ ë°ì´í„°

### items.yml ì„¤ì •

```yaml
# ë¦¬ì†ŒìŠ¤íŒ© ì—°ë™
Occupation_Stone_Tier_I: 100
War_Declaration_Scroll: 200
```

### ë¦¬ì†ŒìŠ¤íŒ© ì˜ˆì‹œ

```json
// assets/minecraft/models/item/beacon.json
{
  "parent": "item/generated",
  "textures": {
    "layer0": "item/beacon"
  },
  "overrides": [
    {
      "predicate": {
        "custom_model_data": 100
      },
      "model": "item/custom/occupation_stone"
    }
  ]
}
```

---

## ğŸ“Š PlaceholderAPI ë³€ìˆ˜

### í”Œë ˆì´ì–´ ê´€ë ¨ ë³€ìˆ˜

| í”Œë ˆì´ìŠ¤í™€ë” | ì„¤ëª… | ë°˜í™˜ ê°’ ì˜ˆì‹œ |
|------------|------|------------|
| `%territory_team%` | **í”Œë ˆì´ì–´ê°€ ì†í•œ íŒ€** | `korea`, `íŒ€ì—†ìŒ` |
| `%territory_team_display%` | í”Œë ˆì´ì–´ íŒ€ í‘œì‹œ ì´ë¦„ | `ëŒ€í•œë¯¼êµ­`, `íŒ€ì—†ìŒ` |
| `%territory_team_in_war%` | í”Œë ˆì´ì–´ íŒ€ ì „ìŸ ìƒíƒœ | `ì˜ˆ`, `ì•„ë‹ˆì˜¤` |
| `%territory_team_war_time_left%` | ì „ìŸ ì‹œì‘ê¹Œì§€ ë‚¨ì€ ì‹œê°„ (ì´ˆ) | `300`, `0` |
| `%territory_team_war_time_left_formatted%` | ì „ìŸ ì‹œì‘ê¹Œì§€ ë‚¨ì€ ì‹œê°„ (MM:SS) | `05:00`, `00:00` |
| `%territory_owned_chunks%` | í”Œë ˆì´ì–´ íŒ€ì´ ì†Œìœ í•œ ì²­í¬ ìˆ˜ | `156` |

### ìœ„ì¹˜ ê´€ë ¨ ë³€ìˆ˜

| í”Œë ˆì´ìŠ¤í™€ë” | ì„¤ëª… | ë°˜í™˜ ê°’ ì˜ˆì‹œ |
|------------|------|------------|
| `%territory_chunk_owner%` | í˜„ì¬ ì²­í¬ ì†Œìœ ì | `korea`, `ì—†ìŒ` |
| `%territory_chunk_owner_display%` | í˜„ì¬ ì²­í¬ ì†Œìœ ì í‘œì‹œ ì´ë¦„ | `ëŒ€í•œë¯¼êµ­`, `ì—†ìŒ` |

### ì „ì—­ ë³€ìˆ˜

| í”Œë ˆì´ìŠ¤í™€ë” | ì„¤ëª… | ë°˜í™˜ ê°’ ì˜ˆì‹œ |
|------------|------|------------|
| `%territory_war_<íŒ€ëª…>%` | íŠ¹ì • íŒ€ì˜ ì „ìŸ ìƒíƒœ | `ì „ìŸ ì¤‘`, `í‰í™”` |
| `%territory_warprep_<íŒ€ëª…>%` | íŠ¹ì • íŒ€ì˜ ì „ìŸ ì¤€ë¹„ ì‹œê°„ | `05:30`, `ì—†ìŒ` |
| `%territory_total_teams%` | ì „ì²´ íŒ€ ìˆ˜ | `5` |
| `%territory_teams_at_war%` | ì „ìŸ ì¤‘ì¸ íŒ€ ìˆ˜ | `2` |

### ì‚¬ìš© ì˜ˆì‹œ

#### ìŠ¤ì½”ì–´ë³´ë“œ
```yaml
# DeluxeScoreboard ì˜ˆì‹œ
scoreboard:
  title: "&6âš” Territory Info âš”"
  lines:
    - "&eâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    - "&fë‚´ íŒ€: &b%territory_team_display%"
    - "&fì „ìŸ: %territory_team_in_war%"
    - "&fì†Œìœ  ì˜í† : &a%territory_owned_chunks% &7ì²­í¬"
    - "&eâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    - "&fí˜„ì¬ ìœ„ì¹˜: %territory_chunk_owner_display%"
    - "&eâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
```

#### TAB ë©”ë‰´
```yaml
# TAB í”ŒëŸ¬ê·¸ì¸ ì˜ˆì‹œ
header:
  - "&6â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
  - "&eâš” Territory Wars âš”"
  - "&fë‹¹ì‹ ì˜ êµ­ê°€: &b%territory_team_display%"
  - "&fì „ìŸ ìƒíƒœ: %territory_team_in_war%"
  - "&6â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

tablist-name: "&b%territory_team% &7| &f%player_name%"
```

#### ì±„íŒ… í¬ë§·
```yaml
# EssentialsChat ì˜ˆì‹œ
format: "[%territory_team_display%] {DISPLAYNAME}: {MESSAGE}"

# ì˜ˆì‹œ ì¶œë ¥
# [ëŒ€í•œë¯¼êµ­] Player123: ì•ˆë…•í•˜ì„¸ìš”!
```

#### í™€ë¡œê·¸ë¨
```yaml
# DecentHolograms ì˜ˆì‹œ
lines:
  - "&6âš” ì „ìŸ í˜„í™© âš”"
  - "&eì „ìŸ ì¤‘ì¸ êµ­ê°€: &c%territory_teams_at_war%ê°œ"
  - "&eí‰í™”ë¡œìš´ êµ­ê°€: &a%territory_total_teams%ê°œ"
  - ""
  - "&7ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸!"
```

---

## ğŸ“œ Skript ì—°ë™

Territory Pluginì€ **Skript-Reflect**ë¥¼ í†µí•´ ì™„ë²½í•˜ê²Œ ì—°ë™ ê°€ëŠ¥í•©ë‹ˆë‹¤!

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

```
âœ… Skript 2.6+
âœ… skript-reflect 2.0+
âœ… Territory Plugin
```

### ì„¤ì¹˜ ë°©ë²•

```bash
1. Skript ì„¤ì¹˜
2. skript-reflect ì„¤ì¹˜
3. Territory Plugin ì„¤ì¹˜
4. ì„œë²„ ì¬ì‹œì‘
```

---

### ğŸ¯ Skript API ì‚¬ìš© ì˜ˆì œ

#### 1. í”Œë ˆì´ì–´ê°€ ì„œ ìˆëŠ” ìœ„ì¹˜ì˜ ì˜í†  í™•ì¸

```skript
command /check:
    trigger:
        set {_world} to world of player
        set {_chunkX} to player's x-coordinate divided by 16
        set {_chunkZ} to player's z-coordinate divided by 16
        set {_chunkKey} to "%{_world}%;%floor({_chunkX})%;%floor({_chunkZ})%"
        
        # Territory Plugin API í˜¸ì¶œ
        set {_plugin} to plugin "territory_Plugin"
        set {_database} to {_plugin}.getDatabaseManager()
        set {_owner} to {_database}.getChunkOwner({_chunkKey})
        
        if {_owner} is set:
            send "Â§eì´ ë•…ì€ Â§a%{_owner}% Â§eêµ­ê°€ ì†Œìœ ì…ë‹ˆë‹¤!" to player
        else:
            send "Â§eì´ ë•…ì€ ì£¼ì¸ì´ ì—†ìŠµë‹ˆë‹¤!" to player
```

#### 2. íŠ¹ì • êµ­ê°€ì˜ ì˜ì§€ì— ë“¤ì–´ê°”ì„ ë•Œ ë©”ì‹œì§€

```skript
import:
    kr.skarch.territory_Plugin.Territory_Plugin
    org.bukkit.Bukkit

every 2 seconds:
    loop all players:
        set {_world} to world of loop-player
        set {_chunkX} to x-coordinate of loop-player divided by 16
        set {_chunkZ} to z-coordinate of loop-player divided by 16
        set {_chunkKey} to "%{_world}%;%floor({_chunkX})%;%floor({_chunkZ})%"
        
        # API í˜¸ì¶œ
        set {_plugin} to Bukkit.getPluginManager().getPlugin("territory_Plugin")
        set {_owner} to {_plugin}.getDatabaseManager().getChunkOwner({_chunkKey})
        
        # ì´ì „ ìœ„ì¹˜ì™€ ë¹„êµ
        if {_owner} is not {territory::%uuid of loop-player%}:
            set {territory::%uuid of loop-player%} to {_owner}
            
            if {_owner} is set:
                send title "Â§6ì˜í†  ì§„ì…" with subtitle "Â§e%{_owner}% êµ­ê°€" to loop-player for 2 seconds
                play sound "block.note_block.pling" to loop-player
            else:
                send title "Â§7ë¬´ì£¼ì§€" with subtitle "Â§fì£¼ì¸ ì—†ëŠ” ë•…" to loop-player for 2 seconds
```

#### 3. ì ë ¹ì„ ì •ë³´ í™•ì¸

```skript
command /stoneinfo:
    trigger:
        set {_world} to world of player
        set {_chunkX} to x-coordinate of player divided by 16
        set {_chunkZ} to z-coordinate of player divided by 16
        set {_centerX} to (floor({_chunkX}) * 16) + 7
        set {_centerZ} to (floor({_chunkZ}) * 16) + 7
        set {_y} to 70  # configì˜ spawn-y-coordinate
        
        # ì ë ¹ì„ ìœ„ì¹˜ ê³„ì‚°
        set {_plugin} to plugin "territory_Plugin"
        set {_db} to {_plugin}.getDatabaseManager()
        
        # Location ê°ì²´ ìƒì„±
        set {_loc} to location at {_centerX}, {_y}, {_centerZ} in {_world}
        set {_stone} to {_db}.getStoneByLocation({_loc})
        
        if {_stone} is set:
            set {_tier} to {_stone}.getCurrentTier()
            set {_owner} to {_stone}.getOwnerGroup()
            set {_time} to {_stone}.getOccupationTime()
            
            send "Â§6=== ì ë ¹ì„ ì •ë³´ ===" to player
            send "Â§eì†Œìœ ì: Â§f%{_owner}%" to player
            send "Â§eí‹°ì–´: Â§f%{_tier}%" to player
            send "Â§eì ë ¹ ì‹œê°„: Â§f%{_time}% ì´ˆ" to player
        else:
            send "Â§cì´ ì²­í¬ì—ëŠ” ì ë ¹ì„ì´ ì—†ìŠµë‹ˆë‹¤!" to player
```

#### 4. ì „ìŸ ìƒíƒœ í™•ì¸

```skript
command /warcheck <text>:
    trigger:
        set {_nation} to arg-1
        set {_plugin} to plugin "territory_Plugin"
        set {_warManager} to {_plugin}.getWarManager()
        set {_isWar} to {_warManager}.isInGlobalWar({_nation})
        
        if {_isWar} is true:
            send "Â§c%{_nation}%ì€(ëŠ”) í˜„ì¬ ì „ìŸ ì¤‘ì…ë‹ˆë‹¤!" to player
        else:
            send "Â§a%{_nation}%ì€(ëŠ”) í‰í™” ìƒíƒœì…ë‹ˆë‹¤." to player
```

#### 5. êµ­ê°€ í†µê³„ ì¡°íšŒ

```skript
command /nationstats <text>:
    trigger:
        set {_nation} to arg-1
        set {_plugin} to plugin "territory_Plugin"
        set {_statsManager} to {_plugin}.getStatsManager()
        set {_stats} to {_statsManager}.getNationStats({_nation})
        
        if {_stats} is set:
            set {_chunks} to {_stats}.getTotalChunks()
            set {_stones} to {_stats}.getTotalStones()
            set {_tier} to {_stats}.getHighestTier()
            set {_score} to {_stats}.getTerritoryScore()
            
            send "Â§6=== %{_nation}% í†µê³„ ===" to player
            send "Â§eì˜í† : Â§f%{_chunks}% ì²­í¬" to player
            send "Â§eì ë ¹ì„: Â§f%{_stones}%ê°œ" to player
            send "Â§eìµœê³  í‹°ì–´: Â§f%{_tier}%" to player
            send "Â§eì˜í†  ì ìˆ˜: Â§f%{_score}%" to player
        else:
            send "Â§cêµ­ê°€ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!" to player
```

#### 6. ì˜í†  ì´ë™ ì œí•œ (íŠ¹ì • êµ­ê°€ë§Œ ì…ì¥)

```skript
on region enter:
    set {_world} to world of player
    set {_chunkX} to x-coordinate of player divided by 16
    set {_chunkZ} to z-coordinate of player divided by 16
    set {_chunkKey} to "%{_world}%;%floor({_chunkX})%;%floor({_chunkZ})%"
    
    set {_plugin} to plugin "territory_Plugin"
    set {_owner} to {_plugin}.getDatabaseManager().getChunkOwner({_chunkKey})
    
    # VIP ì˜ì—­ ì²´í¬ (ì˜ˆ: "vip_nation")
    if {_owner} is "vip_nation":
        if player doesn't have permission "territory.vip":
            send "Â§cì´ ì˜ì—­ì€ VIP ì „ìš©ì…ë‹ˆë‹¤!" to player
            push player backwards at speed 2
            cancel event
```

#### 7. ì ë ¹ì„ ì„¤ì¹˜ ì´ë²¤íŠ¸ ê°ì§€

```skript
# í”Œë ˆì´ì–´ê°€ Beaconì„ ì„¤ì¹˜í•  ë•Œ
on place of beacon:
    set {_item} to player's tool
    if name of {_item} contains "Occupation Stone":
        wait 1 tick
        
        # ì ë ¹ì„ì´ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸
        set {_world} to world of player
        set {_loc} to location of event-block
        
        send "Â§aì ë ¹ì„ì´ ì„¤ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤!" to all players
        send "Â§eìœ„ì¹˜: %{_world}% (%x of {_loc}%, %y of {_loc}%, %z of {_loc}%)" to all players
```

#### 8. ìë™ ì˜í†  ì„¸ê¸ˆ ì‹œìŠ¤í…œ

```skript
every 1 hour:
    loop all players:
        # í”Œë ˆì´ì–´ì˜ êµ­ê°€ í™•ì¸
        set {_plugin} to plugin "territory_Plugin"
        set {_playerGroup} to loop-player's primary group
        
        # êµ­ê°€ì˜ ì´ ì˜í†  í™•ì¸
        set {_stats} to {_plugin}.getStatsManager().getNationStats({_playerGroup})
        
        if {_stats} is set:
            set {_chunks} to {_stats}.getTotalChunks()
            set {_tax} to {_chunks} * 10  # ì²­í¬ë‹¹ 10ì›
            
            # ê²½ì œ í”ŒëŸ¬ê·¸ì¸ ì—°ë™ (Vault)
            if balance of loop-player >= {_tax}:
                remove {_tax} from balance of loop-player
                send "Â§eì˜í†  ì„¸ê¸ˆ Â§c-%{_tax}%ì› Â§7(ì²­í¬: %{_chunks}%)" to loop-player
            else:
                send "Â§cì˜í†  ì„¸ê¸ˆì„ ë‚¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤! íŒŒì‚° ì£¼ì˜!" to loop-player
```

#### 9. ì˜í†  ë­í‚¹ í‘œì‹œ

```skript
command /ranking:
    trigger:
        set {_plugin} to plugin "territory_Plugin"
        set {_statsManager} to {_plugin}.getStatsManager()
        set {_allStats} to {_statsManager}.getAllNationStats()
        
        send "Â§6=== êµ­ê°€ ë­í‚¹ ===" to player
        
        set {_rank} to 1
        loop {_allStats}:
            set {_nation} to loop-value.getNationName()
            set {_score} to loop-value.getTerritoryScore()
            set {_chunks} to loop-value.getTotalChunks()
            
            if {_rank} is 1:
                send "Â§6ğŸ¥‡ %{_nation}% - %{_score}% (%{_chunks}% ì²­í¬)" to player
            else if {_rank} is 2:
                send "Â§7ğŸ¥ˆ %{_nation}% - %{_score}% (%{_chunks}% ì²­í¬)" to player
            else if {_rank} is 3:
                send "Â§cğŸ¥‰ %{_nation}% - %{_score}% (%{_chunks}% ì²­í¬)" to player
            else:
                send "Â§e%{_rank}%. %{_nation}% - %{_score}% (%{_chunks}% ì²­í¬)" to player
            
            add 1 to {_rank}
            if {_rank} > 10:
                stop loop
```

#### 10. ì ë ¹ì„ íŒŒê´´ ì•Œë¦¼ (Discord ì—°ë™)

```skript
# ì ë ¹ì„(í‘ìš”ì„)ì´ íŒŒê´´ë  ë•Œ
on break of obsidian:
    set {_loc} to location of event-block
    set {_plugin} to plugin "territory_Plugin"
    set {_db} to {_plugin}.getDatabaseManager()
    
    # ê·¼ì²˜ ì ë ¹ì„ í™•ì¸ (2x2x2 êµ¬ì¡°)
    loop blocks in radius 2 of {_loc}:
        set {_stone} to {_db}.getStoneByLocation(location of loop-block)
        if {_stone} is set:
            set {_owner} to {_stone}.getOwnerGroup()
            set {_breaker} to player's primary group
            
            # Discord ì›¹í›… (ì˜ˆì‹œ)
            send "âš ï¸ **ì ë ¹ì„ íŒŒê´´!**" to discord webhook "YOUR_WEBHOOK_URL"
            send "í”¼í•´êµ­: %{_owner}%" to discord webhook "YOUR_WEBHOOK_URL"
            send "ê³µê²©ì: %{_breaker}%" to discord webhook "YOUR_WEBHOOK_URL"
            send "ìœ„ì¹˜: %world of {_loc}% (%x of {_loc}%, %y of {_loc}%, %z of {_loc}%)" to discord webhook "YOUR_WEBHOOK_URL"
            
            stop loop
```

---

### ğŸ“š Territory Plugin API ë ˆí¼ëŸ°ìŠ¤

#### DatabaseManager

```skript
# ì²­í¬ ì†Œìœ ì í™•ì¸
{_owner} = {_database}.getChunkOwner({_chunkKey})
# ë°˜í™˜: String (êµ­ê°€ëª…) ë˜ëŠ” null

# ì ë ¹ì„ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
{_stone} = {_database}.getStoneByLocation({_location})
# ë°˜í™˜: OccupationStone ë˜ëŠ” null

# ì ë ¹ì„ UUIDë¡œ ê°€ì ¸ì˜¤ê¸°
{_stone} = {_database}.getStoneByUuid({_uuid})

# íŠ¹ì • íŒ€ì˜ ì ë ¹ì„ ëª©ë¡
{_stones} = {_database}.getStonesByTeam({_teamName})
# ë°˜í™˜: List<OccupationStone>

# ì „ì²´ ì˜í†  ë§µ
{_territories} = {_database}.getAllTerritories()
# ë°˜í™˜: Map<String, String> (chunkKey -> owner)

# ì²­í¬ ê°œìˆ˜ í™•ì¸
{_count} = {_database}.getChunkCountByTeam({_teamName})
# ë°˜í™˜: Int
```

#### TerritoryManager

```skript
# ì ë ¹ì„ ì„¤ì¹˜
{_stone} = {_territoryManager}.placeStone({_location}, {_ownerGroup})
# ë°˜í™˜: OccupationStone ë˜ëŠ” null

# ì ë ¹ì„ ì—…ê·¸ë ˆì´ë“œ
{_success} = {_territoryManager}.upgradeStone({_stone})
# ë°˜í™˜: Boolean

# ì ë ¹ì„ íŒŒê´´
{_territoryManager}.destroyStone({_stone}, {_newOwnerGroup})
```

#### WarManager

```skript
# ì „ìŸ ìƒíƒœ í™•ì¸
{_isWar} = {_warManager}.isInGlobalWar({_nationName})
# ë°˜í™˜: Boolean

# ì „ìŸ ì„ í¬
{_warManager}.declareGlobalWar({_nationName})

# ì „ìŸ ì¢…ë£Œ
{_warManager}.endGlobalWar({_nationName})

# êµì „ ê°€ëŠ¥ ì—¬ë¶€
{_canFight} = {_warManager}.canEngage({_attacker}, {_defender})
# ë°˜í™˜: Boolean

# ë‚¨ì€ ì¤€ë¹„ ì‹œê°„
{_timeLeft} = {_warManager}.getTimeUntilWar({_nationName})
# ë°˜í™˜: Long (ì´ˆ)
```

#### StatsManager

```skript
# êµ­ê°€ í†µê³„
{_stats} = {_statsManager}.getNationStats({_nationName})
# ë°˜í™˜: NationStats ë˜ëŠ” null

# ì „ì²´ êµ­ê°€ í†µê³„ (ë­í‚¹ìˆœ)
{_allStats} = {_statsManager}.getAllNationStats()
# ë°˜í™˜: List<NationStats>

# êµ­ê°€ ìˆœìœ„
{_rank} = {_statsManager}.getNationRanking({_nationName})
# ë°˜í™˜: Int

# ê°€ì¥ ê°€ê¹Œìš´ ì  ì ë ¹ì„
{_location} = {_statsManager}.findNearestEnemyStone({_playerLocation}, {_playerTeam})
# ë°˜í™˜: Location ë˜ëŠ” null

# ì ë ¹ì„ ìœ„ì¹˜ ëª©ë¡
{_locations} = {_statsManager}.getStoneLocations({_nationName})
# ë°˜í™˜: List<String>
```

#### OccupationStone (ê°ì²´)

```skript
# í‹°ì–´ ê°€ì ¸ì˜¤ê¸°
{_tier} = {_stone}.getCurrentTier()
# ë°˜í™˜: StoneTier (TIER_1, TIER_2, ...)

# ì†Œìœ ì ê°€ì ¸ì˜¤ê¸°
{_owner} = {_stone}.getOwnerGroup()
# ë°˜í™˜: String

# ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
{_location} = {_stone}.getLocation()
# ë°˜í™˜: Location

# UUID ê°€ì ¸ì˜¤ê¸°
{_uuid} = {_stone}.getStoneUuid()
# ë°˜í™˜: UUID

# ì ë ¹ ì‹œê°„ ê°€ì ¸ì˜¤ê¸° (ì´ˆ)
{_time} = {_stone}.getOccupationTime()
# ë°˜í™˜: Long

# ìƒì„± ì‹œê°„ ê°€ì ¸ì˜¤ê¸°
{_created} = {_stone}.getCreatedAt()
# ë°˜í™˜: Long (timestamp)
```

#### NationStats (ê°ì²´)

```skript
# êµ­ê°€ëª…
{_name} = {_stats}.getNationName()

# í‘œì‹œëª…
{_display} = {_stats}.getDisplayName()

# ì´ ì²­í¬ ìˆ˜
{_chunks} = {_stats}.getTotalChunks()

# ì ë ¹ì„ ìˆ˜
{_stones} = {_stats}.getTotalStones()

# ìµœê³  í‹°ì–´
{_tier} = {_stats}.getHighestTier()

# ì „ìŸ ì—¬ë¶€
{_war} = {_stats}.isAtWar()

# ì˜¨ë¼ì¸ ë©¤ë²„ ìˆ˜
{_members} = {_stats}.getMemberCount()

# ì˜í†  ì ìˆ˜
{_score} = {_stats}.getTerritoryScore()
```

---

### ğŸ® ì‹¤ì „ ì˜ˆì œ: ì™„ì „í•œ ì˜í†  ì‹œìŠ¤í…œ

#### ì˜í†  ì…ì¥ ì‹œìŠ¤í…œ (íƒ€ì´í‹€ + ì‚¬ìš´ë“œ + íŒŒí‹°í´)

```skript
import:
    kr.skarch.territory_Plugin.Territory_Plugin
    org.bukkit.Bukkit
    org.bukkit.Particle

every 1 second:
    loop all players:
        set {_world} to world of loop-player
        set {_chunkX} to x-coordinate of loop-player divided by 16
        set {_chunkZ} to z-coordinate of loop-player divided by 16
        set {_chunkKey} to "%{_world}%;%floor({_chunkX})%;%floor({_chunkZ})%"
        
        set {_plugin} to Bukkit.getPluginManager().getPlugin("territory_Plugin")
        set {_owner} to {_plugin}.getDatabaseManager().getChunkOwner({_chunkKey})
        
        # ì˜í†  ë³€ê²½ ê°ì§€
        if {_owner} is not {territory::%uuid of loop-player%}:
            set {territory::%uuid of loop-player%} to {_owner}
            
            if {_owner} is set:
                # í†µê³„ ê°€ì ¸ì˜¤ê¸°
                set {_stats} to {_plugin}.getStatsManager().getNationStats({_owner})
                set {_display} to {_stats}.getDisplayName()
                set {_chunks} to {_stats}.getTotalChunks()
                
                # ê°™ì€ íŒ€ì¸ì§€ í™•ì¸
                set {_playerGroup} to loop-player's primary group
                
                if {_playerGroup} is {_owner}:
                    # ë³¸ì¸ ì˜í† 
                    send title "Â§a%{_display}%" with subtitle "Â§7ìš°ë¦¬ êµ­ê°€ ì˜í† " to loop-player for 3 seconds
                    play sound "block.note_block.chime" to loop-player
                    spawn 10 of particle "villager_happy" at loop-player
                else:
                    # ì  ì˜í† 
                    set {_isWar} to {_plugin}.getWarManager().isInGlobalWar({_owner})
                    
                    if {_isWar} is true:
                        send title "Â§c%{_display}%" with subtitle "Â§4âš” ì „ìŸ ì¤‘ì¸ ì˜í† ! Â§4âš”" to loop-player for 3 seconds
                        play sound "entity.ender_dragon.growl" to loop-player
                        spawn 20 of particle "lava" at loop-player
                    else:
                        send title "Â§6%{_display}%" with subtitle "Â§eì˜í†  (%{_chunks}% ì²­í¬)" to loop-player for 3 seconds
                        play sound "block.note_block.pling" to loop-player
                        spawn 10 of particle "end_rod" at loop-player
            else:
                # ë¬´ì£¼ì§€
                send title "Â§7ë¬´ì£¼ì§€" with subtitle "Â§fì£¼ì¸ ì—†ëŠ” ë•… - ì ë ¹ ê°€ëŠ¥!" to loop-player for 2 seconds
                play sound "block.note_block.bass" to loop-player
```

#### ì˜í†  ë³´í˜¸ ì‹œìŠ¤í…œ

```skript
on break:
    set {_world} to world of player
    set {_chunkX} to x-coordinate of event-block divided by 16
    set {_chunkZ} to z-coordinate of event-block divided by 16
    set {_chunkKey} to "%{_world}%;%floor({_chunkX})%;%floor({_chunkZ})%"
    
    set {_plugin} to plugin "territory_Plugin"
    set {_owner} to {_plugin}.getDatabaseManager().getChunkOwner({_chunkKey})
    
    if {_owner} is set:
        set {_playerGroup} to player's primary group
        
        if {_playerGroup} is not {_owner}:
            # ë‚¨ì˜ ë•…
            set {_isWar} to {_plugin}.getWarManager().isInGlobalWar({_owner})
            
            if {_isWar} is false:
                cancel event
                send "Â§cì´ ì˜í† ëŠ” %{_owner}% êµ­ê°€ ì†Œìœ ì…ë‹ˆë‹¤!" to player
                send "Â§eì „ìŸì„ ì„ í¬í•´ì•¼ íŒŒê´´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." to player
```

---

### ğŸ’¡ í™œìš© íŒ

1. **ì„±ëŠ¥ ìµœì í™”**
   - API í˜¸ì¶œì„ ë°˜ë³µë¬¸ ë°–ìœ¼ë¡œ ì´ë™
   - ìºì‹± ë³€ìˆ˜ ì‚¬ìš© (`{territory::%uuid%}`)

2. **ì—ëŸ¬ ì²˜ë¦¬**
   ```skript
   if {_plugin} is not set:
       send "Territory Pluginì´ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!"
       stop
   ```

3. **ë¹„ë™ê¸° ì²˜ë¦¬**
   - ë¬´ê±°ìš´ ì‘ì—…ì€ `wait 1 tick` ì‚¬ìš©
   - DB ì¡°íšŒëŠ” ìµœì†Œí™”

4. **Discord/ì›¹í›… ì—°ë™**
   - skript-webhook ì• ë“œì˜¨ ì‚¬ìš©
   - ì¤‘ìš” ì´ë²¤íŠ¸ë§Œ ì•Œë¦¼

---

## ğŸ”§ ê°œë°œì ì •ë³´

### Kotlin/Java API ì‚¬ìš©

#### 1. ê¸°ë³¸ API ì ‘ê·¼

```kotlin
// Territory Plugin ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°
val territoryPlugin = Bukkit.getPluginManager().getPlugin("territory_Plugin") as Territory_Plugin

// ë˜ëŠ” ì˜ì¡´ì„± ì£¼ì…
class MyPlugin : JavaPlugin() {
    private lateinit var territoryAPI: Territory_Plugin
    
    override fun onEnable() {
        territoryAPI = server.pluginManager.getPlugin("territory_Plugin") as Territory_Plugin
    }
}
```

#### 2. ì˜í†  í™•ì¸ API

```kotlin
// ì²­í¬ ì†Œìœ ì í™•ì¸
val chunkKey = "${world.name};${chunk.x};${chunk.z}"
val owner = territoryPlugin.databaseManager.getChunkOwner(chunkKey)

if (owner != null) {
    player.sendMessage("ì´ ë•…ì€ $owner êµ­ê°€ ì†Œìœ ì…ë‹ˆë‹¤!")
} else {
    player.sendMessage("ì£¼ì¸ ì—†ëŠ” ë•…ì…ë‹ˆë‹¤!")
}

// í”Œë ˆì´ì–´ê°€ ì„œ ìˆëŠ” ìœ„ì¹˜ì˜ ì˜í† 
fun getPlayerTerritory(player: Player): String? {
    val chunk = player.location.chunk
    val chunkKey = "${player.world.name};${chunk.x};${chunk.z}"
    return territoryPlugin.databaseManager.getChunkOwner(chunkKey)
}

// íŠ¹ì • ìœ„ì¹˜ê°€ íŠ¹ì • êµ­ê°€ì˜ ë•…ì¸ì§€ í™•ì¸
fun isNationTerritory(location: Location, nationName: String): Boolean {
    val chunk = location.chunk
    val chunkKey = "${location.world.name};${chunk.x};${chunk.z}"
    val owner = territoryPlugin.databaseManager.getChunkOwner(chunkKey)
    return owner == nationName
}
```

#### 3. ì ë ¹ì„ ê´€ë¦¬ API

```kotlin
// ì ë ¹ì„ ì„¤ì¹˜
val stone = territoryPlugin.territoryManager.placeStone(location, ownerGroup)
if (stone != null) {
    player.sendMessage("ì ë ¹ì„ ì„¤ì¹˜ ì„±ê³µ!")
} else {
    player.sendMessage("ì ë ¹ì„ ì„¤ì¹˜ ì‹¤íŒ¨!")
}

// ì ë ¹ì„ ì •ë³´ ì¡°íšŒ
val stone = territoryPlugin.databaseManager.getStoneByLocation(location)
if (stone != null) {
    println("ì†Œìœ ì: ${stone.ownerGroup}")
    println("í‹°ì–´: ${stone.currentTier}")
    println("ì ë ¹ ì‹œê°„: ${stone.getOccupationTime()}ì´ˆ")
}

// íŠ¹ì • êµ­ê°€ì˜ ëª¨ë“  ì ë ¹ì„
val stones = territoryPlugin.databaseManager.getStonesByTeam(nationName)
stones.forEach { stone ->
    println("ì ë ¹ì„: ${stone.location}, í‹°ì–´: ${stone.currentTier}")
}

// ì ë ¹ì„ ì—…ê·¸ë ˆì´ë“œ
val success = territoryPlugin.territoryManager.upgradeStone(stone)
if (success) {
    player.sendMessage("ì—…ê·¸ë ˆì´ë“œ ì„±ê³µ!")
}

// ì ë ¹ì„ íŒŒê´´ ë° ì˜í†  ì´ì „
territoryPlugin.territoryManager.destroyStone(stone, newOwnerGroup)
```

#### 4. ì „ìŸ ì‹œìŠ¤í…œ API

```kotlin
// ì „ìŸ ìƒíƒœ í™•ì¸
val isAtWar = territoryPlugin.warManager.isInGlobalWar(nationName)
if (isAtWar) {
    player.sendMessage("$nationName ì€(ëŠ”) í˜„ì¬ ì „ìŸ ì¤‘ì…ë‹ˆë‹¤!")
}

// ì „ìŸ ì„ í¬
territoryPlugin.warManager.declareGlobalWar(nationName)

// ì „ìŸ ì¢…ë£Œ
territoryPlugin.warManager.endGlobalWar(nationName)

// êµì „ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
val canFight = territoryPlugin.warManager.canEngage(attackerNation, defenderNation)
if (!canFight) {
    event.isCancelled = true
    player.sendMessage("ì „ìŸ ì¤‘ì´ ì•„ë‹ˆë©´ ê³µê²©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤!")
}

// ì „ìŸ ì¤€ë¹„ ì‹œê°„ í™•ì¸
val timeLeft = territoryPlugin.warManager.getTimeUntilWar(nationName)
if (timeLeft > 0) {
    player.sendMessage("ì „ìŸê¹Œì§€ ${timeLeft}ì´ˆ ë‚¨ì•˜ìŠµë‹ˆë‹¤!")
}
```

#### 5. í†µê³„ ì‹œìŠ¤í…œ API

```kotlin
// êµ­ê°€ í†µê³„ ì¡°íšŒ
val stats = territoryPlugin.statsManager.getNationStats(nationName)
if (stats != null) {
    player.sendMessage("=== $nationName í†µê³„ ===")
    player.sendMessage("ì˜í† : ${stats.totalChunks} ì²­í¬")
    player.sendMessage("ì ë ¹ì„: ${stats.totalStones}ê°œ")
    player.sendMessage("ìµœê³  í‹°ì–´: ${stats.highestTier}")
    player.sendMessage("ì˜í†  ì ìˆ˜: ${stats.getTerritoryScore()}")
}

// êµ­ê°€ ë­í‚¹
val ranking = territoryPlugin.statsManager.getNationRanking(nationName)
player.sendMessage("$nationName ìˆœìœ„: $ranking")

// ì „ì²´ êµ­ê°€ í†µê³„ (ë­í‚¹ìˆœ)
val allStats = territoryPlugin.statsManager.getAllNationStats()
allStats.forEachIndexed { index, stats ->
    println("${index + 1}. ${stats.displayName} - ${stats.getTerritoryScore()}")
}

// ê°€ì¥ ê°€ê¹Œìš´ ì  ì ë ¹ì„ ì°¾ê¸°
val nearestStone = territoryPlugin.statsManager.findNearestEnemyStone(
    player.location, 
    playerNation
)
if (nearestStone != null) {
    player.compassTarget = nearestStone
    player.sendMessage("ë‚˜ì¹¨ë°˜ì´ ê°€ì¥ ê°€ê¹Œìš´ ì  ì ë ¹ì„ì„ ê°€ë¦¬í‚µë‹ˆë‹¤!")
}
```

#### 6. í”Œë ˆì´ì–´ êµ­ê°€ í™•ì¸

```kotlin
import kr.skarch.territory_Plugin.utils.PlayerGroupCache

// í”Œë ˆì´ì–´ì˜ êµ­ê°€ í™•ì¸ (ìºì‹±ë¨ - 5ë¶„)
val playerNation = PlayerGroupCache.getPlayerGroup(player)
player.sendMessage("ë‹¹ì‹ ì˜ êµ­ê°€: $playerNation")

// ìºì‹œ ë¬´íš¨í™” (ê·¸ë£¹ ë³€ê²½ ì‹œ)
PlayerGroupCache.invalidate(player.uniqueId)
```

#### 7. ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ

```kotlin
import org.bukkit.event.EventHandler
import org.bukkit.event.Listener
import org.bukkit.event.block.BlockBreakEvent
import org.bukkit.event.player.PlayerMoveEvent

class TerritoryListener(private val territoryAPI: Territory_Plugin) : Listener {
    
    // ì ë ¹ì„ íŒŒê´´ ê°ì§€
    @EventHandler
    fun onStoneBreak(event: BlockBreakEvent) {
        val block = event.block
        if (block.type == Material.OBSIDIAN) {
            val stone = territoryAPI.databaseManager.getStoneByLocation(block.location)
            if (stone != null) {
                // ì ë ¹ì„ì…ë‹ˆë‹¤!
                val player = event.player
                val playerNation = PlayerGroupCache.getPlayerGroup(player)
                
                if (playerNation != stone.ownerGroup) {
                    // ì ì´ ì ë ¹ì„ì„ íŒŒê´´í•˜ë ¤ í•¨
                    Bukkit.broadcast("Â§cê²½ê³ ! ${stone.ownerGroup}ì˜ ì ë ¹ì„ì´ ê³µê²©ë°›ê³  ìˆìŠµë‹ˆë‹¤!")
                }
            }
        }
    }
    
    // ì˜í†  ì§„ì… ê°ì§€
    private val lastTerritory = mutableMapOf<UUID, String?>()
    
    @EventHandler
    fun onPlayerMove(event: PlayerMoveEvent) {
        val from = event.from
        val to = event.to ?: return
        
        // ì²­í¬ ë³€ê²½ í™•ì¸
        if (from.chunk != to.chunk) {
            val player = event.player
            val chunkKey = "${to.world.name};${to.chunk.x};${to.chunk.z}"
            val owner = territoryAPI.databaseManager.getChunkOwner(chunkKey)
            
            // ì´ì „ ì˜í† ì™€ ë‹¤ë¥¸ì§€ í™•ì¸
            if (owner != lastTerritory[player.uniqueId]) {
                lastTerritory[player.uniqueId] = owner
                
                if (owner != null) {
                    player.sendTitle("Â§6$owner", "Â§eêµ­ê°€ ì˜í† ", 10, 40, 10)
                } else {
                    player.sendTitle("Â§7ë¬´ì£¼ì§€", "Â§fì£¼ì¸ ì—†ëŠ” ë•…", 10, 40, 10)
                }
            }
        }
    }
}
```

#### 8. ì˜í†  ë³´í˜¸ í”ŒëŸ¬ê·¸ì¸ í†µí•©

```kotlin
class TerritoryProtectionPlugin : JavaPlugin() {
    private lateinit var territoryAPI: Territory_Plugin
    
    override fun onEnable() {
        territoryAPI = server.pluginManager.getPlugin("territory_Plugin") as Territory_Plugin
        server.pluginManager.registerEvents(ProtectionListener(), this)
    }
    
    inner class ProtectionListener : Listener {
        
        @EventHandler(priority = EventPriority.HIGH)
        fun onBlockBreak(event: BlockBreakEvent) {
            if (event.isCancelled) return
            
            val player = event.player
            val location = event.block.location
            
            if (!canPlayerBuild(player, location)) {
                event.isCancelled = true
                player.sendMessage("Â§cì´ ì˜í† ì—ì„œëŠ” ë¸”ë¡ì„ ë¶€ìˆ  ìˆ˜ ì—†ìŠµë‹ˆë‹¤!")
            }
        }
        
        @EventHandler(priority = EventPriority.HIGH)
        fun onBlockPlace(event: BlockPlaceEvent) {
            if (event.isCancelled) return
            
            val player = event.player
            val location = event.block.location
            
            if (!canPlayerBuild(player, location)) {
                event.isCancelled = true
                player.sendMessage("Â§cì´ ì˜í† ì—ì„œëŠ” ë¸”ë¡ì„ ì„¤ì¹˜í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤!")
            }
        }
        
        private fun canPlayerBuild(player: Player, location: Location): Boolean {
            // ê´€ë¦¬ìëŠ” í•­ìƒ ê°€ëŠ¥
            if (player.hasPermission("territory.admin")) return true
            
            val chunk = location.chunk
            val chunkKey = "${location.world.name};${chunk.x};${chunk.z}"
            val owner = territoryAPI.databaseManager.getChunkOwner(chunkKey)
            
            // ì£¼ì¸ ì—†ëŠ” ë•…ì€ ê°€ëŠ¥
            if (owner == null) return true
            
            val playerNation = PlayerGroupCache.getPlayerGroup(player)
            
            // ë³¸ì¸ ë•…ì´ë©´ ê°€ëŠ¥
            if (owner == playerNation) return true
            
            // ì „ìŸ ì¤‘ì´ë©´ ê°€ëŠ¥
            if (territoryAPI.warManager.isInGlobalWar(owner) || 
                territoryAPI.warManager.isInGlobalWar(playerNation)) {
                return true
            }
            
            // ê·¸ ì™¸ëŠ” ë¶ˆê°€
            return false
        }
    }
}
```

#### 9. ê²½ì œ ì—°ë™ ì˜ˆì œ

```kotlin
import net.milkbowl.vault.economy.Economy

class TerritoryEconomyIntegration(
    private val territoryAPI: Territory_Plugin,
    private val economy: Economy
) {
    
    // ì˜í†  ì„¸ê¸ˆ ì§•ìˆ˜
    fun collectTerritoryTax(nationName: String): Double {
        val stats = territoryAPI.statsManager.getNationStats(nationName) ?: return 0.0
        val chunks = stats.totalChunks
        val taxPerChunk = 10.0
        val totalTax = chunks * taxPerChunk
        
        // ì˜¨ë¼ì¸ í”Œë ˆì´ì–´ë“¤ì—ê²Œì„œ ì„¸ê¸ˆ ì§•ìˆ˜
        Bukkit.getOnlinePlayers()
            .filter { PlayerGroupCache.getPlayerGroup(it) == nationName }
            .forEach { player ->
                if (economy.has(player, totalTax)) {
                    economy.withdrawPlayer(player, totalTax)
                    player.sendMessage("Â§eì˜í†  ì„¸ê¸ˆ -$${totalTax} Â§7(ì²­í¬: $chunks)")
                } else {
                    player.sendMessage("Â§cì„¸ê¸ˆì„ ë‚¼ ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤!")
                }
            }
        
        return totalTax
    }
    
    // ì ë ¹ì„ ì—…ê·¸ë ˆì´ë“œ ë¹„ìš© í™•ì¸
    fun canAffordUpgrade(player: Player, stone: OccupationStone): Boolean {
        val currentTier = stone.currentTier.ordinal + 1
        val nextTier = currentTier + 1
        val cost = territoryAPI.configManager.getUpgradeMoney(currentTier, nextTier)
        
        return economy.has(player, cost)
    }
}
```

#### 10. Discord ì—°ë™ ì˜ˆì œ

```kotlin
import net.dv8tion.jda.api.JDA
import net.dv8tion.jda.api.EmbedBuilder
import java.awt.Color

class TerritoryDiscordIntegration(
    private val territoryAPI: Territory_Plugin,
    private val jda: JDA,
    private val channelId: String
) {
    
    // ì „ìŸ ì„ í¬ ì•Œë¦¼
    fun notifyWarDeclaration(nationName: String) {
        val channel = jda.getTextChannelById(channelId) ?: return
        
        val embed = EmbedBuilder()
            .setTitle("âš”ï¸ ì „ìŸ ì„ í¬!")
            .setDescription("**$nationName**ì´(ê°€) ì „ë©´ì „ì„ ì„ í¬í–ˆìŠµë‹ˆë‹¤!")
            .setColor(Color.RED)
            .addField("ì „ìŸ ì‹œì‘", "10ë¶„ í›„", false)
            .addField("ìƒíƒœ", "ì¤€ë¹„ ì¤‘...", false)
            .setTimestamp(java.time.Instant.now())
            .build()
        
        channel.sendMessageEmbeds(embed).queue()
    }
    
    // ì ë ¹ì„ íŒŒê´´ ì•Œë¦¼
    fun notifyStoneDestruction(stone: OccupationStone, destroyer: String) {
        val channel = jda.getTextChannelById(channelId) ?: return
        
        val location = stone.location
        val embed = EmbedBuilder()
            .setTitle("ğŸ’¥ ì ë ¹ì„ íŒŒê´´!")
            .setColor(Color.ORANGE)
            .addField("í”¼í•´êµ­", stone.ownerGroup, true)
            .addField("ê³µê²©ì", destroyer, true)
            .addField("ìœ„ì¹˜", "${location.world.name} (${location.blockX}, ${location.blockZ})", false)
            .addField("í‹°ì–´", stone.currentTier.tierName, true)
            .setTimestamp(java.time.Instant.now())
            .build()
        
        channel.sendMessageEmbeds(embed).queue()
    }
    
    // êµ­ê°€ ë­í‚¹ ì „ì†¡
    fun sendRanking() {
        val channel = jda.getTextChannelById(channelId) ?: return
        val allStats = territoryAPI.statsManager.getAllNationStats()
        
        val embed = EmbedBuilder()
            .setTitle("ğŸ† êµ­ê°€ ë­í‚¹")
            .setColor(Color.GOLD)
        
        allStats.take(10).forEachIndexed { index, stats ->
            val medal = when(index) {
                0 -> "ğŸ¥‡"
                1 -> "ğŸ¥ˆ"
                2 -> "ğŸ¥‰"
                else -> "${index + 1}."
            }
            
            embed.addField(
                "$medal ${stats.displayName}",
                "ì ìˆ˜: ${stats.getTerritoryScore()} | ì²­í¬: ${stats.totalChunks} | ì ë ¹ì„: ${stats.totalStones}",
                false
            )
        }
        
        embed.setTimestamp(java.time.Instant.now())
        channel.sendMessageEmbeds(embed.build()).queue()
    }
}
```

---

### ğŸ“¦ Maven/Gradle ì˜ì¡´ì„±

#### Gradle (Kotlin DSL)

```kotlin
repositories {
    maven("https://jitpack.io")
}

dependencies {
    compileOnly(fileTree("libs") { include("territory_Plugin.jar") })
}
```

#### Maven

```xml
<dependency>
    <groupId>kr.skarch</groupId>
    <artifactId>territory_Plugin</artifactId>
    <version>1.0-SNAPSHOT</version>
    <scope>provided</scope>
</dependency>
```

---

### ğŸ¯ API ì‚¬ìš© ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] plugin.ymlì— `depend: [territory_Plugin]` ì¶”ê°€
- [ ] Territory_Plugin ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°
- [ ] null ì²´í¬ (í”ŒëŸ¬ê·¸ì¸ ë¹„í™œì„±í™” ëŒ€ë¹„)
- [ ] ë¹„ë™ê¸° ì²˜ë¦¬ (DB ì¡°íšŒê°€ ë§ì€ ê²½ìš°)
- [ ] ìºì‹± í™œìš© (PlayerGroupCache ë“±)
- [ ] ì—ëŸ¬ ì²˜ë¦¬ (try-catch)

---

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. ì ë ¹ì„ì´ ì„¤ì¹˜ë˜ì§€ ì•Šì•„ìš”
```
ì›ì¸: í•´ë‹¹ ìœ„ì¹˜ì— ì´ë¯¸ ë¸”ë¡ì´ ìˆìŒ
í•´ê²°: ë¹ˆ ê³µê°„ì— ì„¤ì¹˜í•˜ì„¸ìš”
```

#### 2. BlueMapì— ë§ˆì»¤ê°€ ì•ˆ ë³´ì—¬ìš”
```
ì›ì¸: BlueMap í”ŒëŸ¬ê·¸ì¸ ë¯¸ì„¤ì¹˜
í•´ê²°:
1. BlueMap ì„¤ì¹˜
2. ì„œë²„ ì¬ì‹œì‘
3. ë¡œê·¸ í™•ì¸: [Territory] BlueMap API connected!
```

#### 3. ì—…ê·¸ë ˆì´ë“œê°€ ì•ˆ ë¼ìš”
```
ì›ì¸: ìš”êµ¬ì‚¬í•­ ë¯¸ì¶©ì¡±
í™•ì¸:
- ì ë ¹ ì‹œê°„ ì¶©ì¡±?
- ëˆ ì¶©ë¶„?
- ì†Œìœ ê¶Œ í™•ì¸?
```

#### 4. ì „ìŸì´ ì¢…ë£Œê°€ ì•ˆ ë¼ìš”
```
í•´ê²°: /territory endwar <êµ­ê°€ëª…>
```

---

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### ê¶Œì¥ ì„¤ì •

```yaml
# config.yml
occupation-stone:
  # Yì¢Œí‘œ ì ì ˆíˆ ì„¤ì • (ë„ˆë¬´ ë†’ê±°ë‚˜ ë‚®ìœ¼ë©´ ë¬¸ì œ)
  spawn-y-coordinate: 70
  
war:
  # ì „ìŸ ì¤€ë¹„ ì‹œê°„ (ë„ˆë¬´ ì§§ìœ¼ë©´ ë¶€ë‹´)
  preparation-time: 600  # 10ë¶„
```

### ì„œë²„ ì„±ëŠ¥

- âœ… ë¹„ë™ê¸° BlueMap ì—…ë°ì´íŠ¸
- âœ… LuckPerms ìºì‹± (5ë¶„)
- âœ… ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ ìµœì í™”
- âœ… ìë™ ì—°ê²° ë³µêµ¬

---

## ğŸ“ ë³€ê²½ ë¡œê·¸

### v1.0-SNAPSHOT (2025-12-11) - ìµœì‹ 
#### ğŸ› ë²„ê·¸ ìˆ˜ì •
- ğŸ”§ **ì ë ¹ì„ ì„¤ì¹˜ ë¬¸ì œ í•´ê²°**: 60+ ì¢…ë¥˜ì˜ ìì—° ë¸”ë¡ì—ì„œ ì„¤ì¹˜ ê°€ëŠ¥í•˜ë„ë¡ ê°œì„ 
- ğŸ”§ **ì½˜ì†” ëª…ë ¹ì–´ ì§€ì›**: reload, startwar, endwar ëª…ë ¹ì–´ ì½˜ì†” ì‚¬ìš© ê°€ëŠ¥
- ğŸ”§ **íŒ€ ì¸ì‹ ë¬¸ì œ í•´ê²°**: team.ymlì— ì—†ëŠ” ê·¸ë£¹ì€ "íŒ€ì—†ìŒ"ìœ¼ë¡œ ì²˜ë¦¬

#### âœ¨ ê°œì„ ì‚¬í•­
- âš¡ **PlaceholderAPI ìµœì í™”**: PlayerGroupCache ì‚¬ìš©ìœ¼ë¡œ ì„±ëŠ¥ í–¥ìƒ
- ğŸ“ **ëª…ë ¹ì–´ ì¶”ê°€**: score, scorenow, cancel ëª…ë ¹ì–´ ì¶”ê°€
- ğŸ¯ **ì—ëŸ¬ ì²˜ë¦¬ ê°œì„ **: ë” ì•ˆì •ì ì¸ íŒ€ ê°ì§€ ì‹œìŠ¤í…œ

#### ğŸ“‹ ê¸°ì¡´ ê¸°ëŠ¥
- âœ… ì ë ¹ì„ ì‹œìŠ¤í…œ (5ë‹¨ê³„ í‹°ì–´)
- âœ… ì „ìŸ ì‹œìŠ¤í…œ (ì „ë©´ì „)
- âœ… BlueMap ì™„ì „ ì—°ë™
- âœ… ë‹¤êµ­ì–´ ì§€ì› (lang.yml)
- âœ… ì»¤ìŠ¤í…€ ëª¨ë¸ ë°ì´í„° (items.yml)
- âœ… í†µê³„ ë° ë­í‚¹ ì‹œìŠ¤í…œ
- âœ… ì „ìŸ ì´ë ¥ ë¡œê¹…
- âœ… ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ
- âœ… ì„±ëŠ¥ ìµœì í™” (ìºì‹±)

---

## ğŸ¤ ê¸°ì—¬

ë²„ê·¸ ë¦¬í¬íŠ¸ ë° ê¸°ëŠ¥ ì œì•ˆì€ í™˜ì˜í•©ë‹ˆë‹¤!

### ë²„ê·¸ ë¦¬í¬íŠ¸
```
1. ë²„ê·¸ ìƒì„¸ ì„¤ëª…
2. ì¬í˜„ ë°©ë²•
3. ì˜ˆìƒ ê²°ê³¼ vs ì‹¤ì œ ê²°ê³¼
4. ì„œë²„ ë¡œê·¸
```

### ê¸°ëŠ¥ ì œì•ˆ
```
1. ê¸°ëŠ¥ ì„¤ëª…
2. ì‚¬ìš© ì‚¬ë¡€
3. ì˜ˆìƒ íš¨ê³¼
```

---

## ğŸ“„ ë¼ì´ì„¼ìŠ¤

ì´ í”ŒëŸ¬ê·¸ì¸ì€ MIT ë¼ì´ì„¼ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

---

## ğŸ“ ì§€ì›

### ë¬¸ì„œ
- ğŸ“– ì´ README
- ğŸ”§ config.yml ì£¼ì„
- ğŸ’¬ ëª…ë ¹ì–´ ë„ì›€ë§ (`/territory`)

### ì»¤ë®¤ë‹ˆí‹°
- Discord: dev.skarch
- GitHub: [SKARCH218](https://github.com/SKARCH218)

---

## ğŸ‰ íŠ¹ë³„ ê°ì‚¬

- **Paper**: ê°•ë ¥í•œ ì„œë²„ í”Œë«í¼
- **LuckPerms**: ê¶Œí•œ ì‹œìŠ¤í…œ
- **BlueMap**: ì›¹ ë§µ í”ŒëŸ¬ê·¸ì¸
- **Vault**: ê²½ì œ ì‹œìŠ¤í…œ
- **PlaceholderAPI**: í”Œë ˆì´ìŠ¤í™€ë” ì‹œìŠ¤í…œ

---

<div align="center">

**Territory Plugin** - ë‹¹ì‹ ì˜ ì„œë²„ì— ì „ìŸê³¼ ì˜í† ë¥¼!


[â¬† ë§¨ ìœ„ë¡œ](#-territory-plugin---ì™„ë²½-ê°€ì´ë“œ)

</div>

